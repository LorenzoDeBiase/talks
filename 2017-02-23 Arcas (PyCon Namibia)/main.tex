\documentclass{beamer}
\usepackage{coloremoji}
\usecolortheme[dark,accent=cyan]{solarized}

\beamertemplatenavigationsymbolsempty

\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{colortbl, xcolor}
\usepackage{booktabs}
\usepackage{varwidth}

\usepackage{tikz}
\usetikzlibrary{automata}
\usepackage{pstricks}
\usetikzlibrary{calc}
\usepackage{minted}

\definecolor{DarkGray}{gray}{0.1}
\definecolor{DarkGray}{gray}{0.1}
\usemintedstyle{native}

\title{Accessing open research literature with Python}
\author{@NikoletaGlyn}
\date{ }
\institute[]
{
\begin{center}
    \includegraphics[width=.15\textwidth]{static/pycon-namibia.png}
\end{center}
}

\begin{document}

\frame{\titlepage}

\begin{frame}
    \begin{center}
    \includegraphics[width=0.24\textwidth]{static/cardiff_uni_logo.jpg}\hspace{10pt}
    \includegraphics[width=0.24\textwidth]{static/axelrod-logo.png}\vspace{10pt}

    \includegraphics[width=0.24\textwidth]{static/ssi-logo.png} \hspace{10pt}
    \includegraphics[width=0.24\textwidth]{static/phoenix-logo.jpg}
    \vspace{10pt}
    \end{center}
\end{frame}

\begin{frame}
    \begin{center}
        \small{http://matt.might.net/articles/phd-school-in-pictures/}
    \end{center}
\end{frame}

\begin{frame}
    \begin{center}
    \input{static/phd-comic.tex}
    \end{center}
\end{frame}

\begin{frame}
\begin{center}
    \Huge{üìöüìöüìö}
\end{center}
\end{frame}

\begin{frame}
\begin{center}
    \includegraphics[width=0.5\textwidth]{static/printing.png}
\end{center}
\end{frame}

\begin{frame}
    \begin{center}
    \input{static/www.tex}
    \end{center}
\end{frame}

\begin{frame}
\begin{center}
    \Huge{üèÉüèÉ}
\end{center}
\end{frame}

\begin{frame}
\begin{center}
    \includegraphics[width=1\textwidth]{static/ieee_manual.png}
\end{center}
\end{frame}

\begin{frame}
\begin{center}
\color{yellow!79}\Large{$100 x (0.5 min + 1.5 min) + 10 X (0.5 min)= 110 min \Rightarrow 1h \textrm{ and } 50 min$}
\end{center}
\end{frame}

\begin{frame}
\begin{center}
\Huge{API}
\end{center}
\end{frame}

\begin{frame}[fragile]
    \begin{figure}
    \textbf{'QUERY'}
    \begin{minted}
        [
        framesep=2mm,
        baselinestretch=1,
        bgcolor=DarkGray,
        fontsize=\small,
        ]
        {python}
http://ieeexplore.ieee.org/gateway/ipsSearch.jsp?
    \end{minted}
    \end{figure}
    \pause
        \begin{minted}
        [
        framesep=2mm,
        baselinestretch=1,
        bgcolor=DarkGray,
        fontsize=\small,
        ]
        {python}
...ti=Namibia
    \end{minted}
        \pause
        \begin{minted}
        [
        framesep=2mm,
        baselinestretch=1,
        bgcolor=DarkGray,
        fontsize=\small,
        ]
        {python}
...ti=Namibia&hc=100
    \end{minted}
\end{frame}

\begin{frame}[fragile]
\begin{figure}
    \textbf{'RESULTS'}
    \begin{minted}
        [
        framesep=2mm,
        baselinestretch=1,
        bgcolor=DarkGray,
        fontsize=\small,
        ]
        {python}
|--<root>
    |- ...
|-<document>
    |-<rank>1</rank>
    |-<title>
        |-<![CDATA[
            Implementation of 220 ...]]>
    |-</title>
    |-<authors>
        |- ...
    |- ...
|-</document>
|-<document>
 \end{minted}
 \end{figure}
\end{frame}

\begin{frame}
\begin{center}
\color{yellow!79}\Large{$15min + 1min + 50 min =  66min \Rightarrow 1h \textrm{ and } 5 min$}
\end{center}
\end{frame}

\begin{frame}
    \begin{center}
    \input{static/apis_one.tex}
    \end{center}
\end{frame}
\begin{frame}
    \begin{center}
    \input{static/apis.tex}
    \end{center}
\end{frame}

\begin{frame}[fragile]
    \begin{minted}
    [
    framesep=4mm,
    baselinestretch=1.2,
    bgcolor=DarkGray,
    fontsize=\Large,
    ]
    {python}
pip install arcas
    \end{minted}
\end{frame}

\begin{frame}[fragile]
    \begin{minted}
    [
    framesep=4mm,
    baselinestretch=1.2,
    bgcolor=DarkGray,
    fontsize=\tiny,
    ]
    {python}
import pandas as pd
from arcas import *

def get_arguments(word, start, count):
    arguments = {'-a': None, '-t': word, '-s': start,
                 '-r': count, '-y': None, '-b': None}
    return arguments

def main_program(arguments):
    parameters = pp.parameters_fix(arguments=arguments)
    url = pp.create_url_search(parameters=parameters)
    response = pp.make_request(url)
    root = pp.get_root(response)
    article = pp.parse(root)
    return article, url
    \end{minted}

    \begin{minted}
    [
    framesep=4mm,
    baselinestretch=1.2,
    bgcolor=DarkGray,
    fontsize=\tiny,
    ]
    {python}
words = ["Namibia"]

apis = {"ieee": Ieee, "nature": Nature, "arxiv": Arxiv,
        "springer": Springer, "plos": Plos}
list_apis = ['plos', 'arxiv', 'ieee', 'nature', 'springer']
count = 10
    \end{minted}
\end{frame}

\begin{frame}[fragile]
    \begin{minted}
    [
    framesep=4mm,
    baselinestretch=1.2,
    bgcolor=DarkGray,
    fontsize=\tiny,
    ]
    {python}
for p in list_apis:
    pp = apis[p]()
    start = 1
    while start < 100:
        arguments = get_arguments(words[0], start, count)
        raw_articles, url = main_program(arguments)

        dfs = []
        if raw_articles is not False:
            for raw_article in raw_articles:
                try:
                    df = pp.to_dataframe(raw_article)
                    dfs.append(df)
                except ValueError:
                    ValueError()
            try:
                df = pd.concat(dfs, ignore_index=True)
                pp.export(df, filename='articles/{}-{}-{}.json'.format(p, words[0], start))
            except ValueError:
                print(None)
        start += 10
    \end{minted}
\end{frame}

\begin{frame}[fragile]
    \begin{minted}
        [
        framesep=2mm,
        baselinestretch=1,
        bgcolor=DarkGray,
        fontsize=\footnotesize,
        ]
        {python}
{
"key":{"0":, "1":, "2": },
"unique_key":{"0":, "1":, "2":},
"title":{"0":,
         "1":,
         "2":},
"author":{"0":,"1":,"2":},
"abstract":{"0":,
            "1":,
            "2":},
"date":{"0":,"1":, "2":},
"journal":{"0":,"1":,"2":},
"provenance":{"0":,"1":,"2":}
}
     \end{minted}
\end{frame}

\begin{frame}
\begin{center}
\color{yellow!79}\Large{$15 min + 5 min= 20 min$}
\end{center}
\end{frame}

\begin{frame}
\begin{center}
    \includegraphics[width=\textwidth]{static/provenance.pdf}
\end{center}
\end{frame}


%    \hspace{10mm}
%    \pause
%    \begin{minted}
%    [
%    framesep=2mm,
%    baselinestretch=1.2,
%    bgcolor=DarkGray,
%    fontsize=\footnotesize,
%    ]
%    {python}
% arcas_scrape -p ieee -t "Prisoner Dilemma" -a "Nowak" -y 2014
% ... -r 1 -s 2
%    \end{minted}
%    \hspace{10mm}
%    \pause
%    \begin{minted}
%    [
%    framesep=2mm,
%    baselinestretch=1.2,
%    bgcolor=DarkGray,
%    fontsize=\footnotesize,
%    ]
%    {python}
% arcas_scrape -p ieee -b "game theory" -t "Prisoner Dilemma"
% ... -a "Nowak" -y 2014 -r 1 -s 2
%    \end{minted}
%\end{frame}
%

%
%
%\begin{frame}
%\begin{center}
%\begin{figure}[H]
%		\input{static/structure.tex}
%\end{figure}
%\end{center}
%\end{frame}
%
%\begin{frame}[fragile]
%    \begin{minted}
%        [
%        framesep=2mm,
%        baselinestretch=1,
%        bgcolor=DarkGray,
%        fontsize=\tiny,
%        ]
%        {python}
%from arcas import *
%
%def get_arguments(api, word, count):
%    arguments = [{'-a': None, '-b': word, '-s': None,
%                  '-r': count, '-y': None, '-t': None},
%    return arguments
%
%def main_program(arguments):
%    parameters = pp.parameters_fix(arguments=arguments)
%    url = pp.create_url_search(parameters=parameters)
%    response = pp.make_request(url)
%    root = pp.get_root(response)
%    article = pp.parse(root)
%    return article
%    \end{minted}
%    \pause
%    \begin{minted}
%        [
%        framesep=2mm,
%        baselinestretch=1,
%        bgcolor=DarkGray,
%        fontsize=\tiny,
%        ]
%        {python}
%words = ["prisoner's dilemma", "prisoners evolution", "prisoner dilemma", ...]
%apis = {"ieee": Ieee, "nature": Nature, "arxiv": Arxiv, "springer": Springer, "plos": Plos}
%list_apis = ['plos', 'arxiv', 'ieee', 'nature', 'springer']
%count = 10
%\end{minted}
%    \pause
%    \begin{minted}
%        [
%        framesep=2mm,
%        baselinestretch=1,
%        bgcolor=DarkGray,
%        fontsize=\tiny,
%        ]
%        {python}
%for wr in words:
%    for p in list_apis:
%        pp = apis[p]()
%
%        arguments = get_arguments(p, wr, count)
%        raw_articles = main_program(arg)
%
%        df = pp.to_dataframe(raw_article)
%        pp.export(dfs, filename='articles/{}-{}.json'.format(p, wr))
%\end{minted}
%\end{frame}
%
%\begin{frame}
%\begin{center}
%\begin{figure}[]
%        \includegraphics[width=\textwidth]{static/articles-year.pdf}
%\end{figure}
%\end{center}
%\end{frame}
%
%\begin{frame}
%\begin{center}
%\begin{figure}[]
%        \includegraphics[width=\textwidth]{static/provenance.pdf}
%\end{figure}
%\end{center}
%\end{frame}

\begin{frame}
	\begin{center}
		\huge{\textbf{}}\\~\\
		\small{@NikoletaGlyn}\\
		\small{https://github.com/Nikoleta-v3}\\
		\small{ttps://github.com/Nikoleta-v3/Arcas}
	\end{center}
\end{frame}

\end{document}




